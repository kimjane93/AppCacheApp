{% extends 'base.html' %}

{% block content %}
<div>
    <div>
        <div>
            <img src="{{user.profile.photo}}" height="150px" alt="">
            <h1>{{ user.first_name }}</h1>
        </div>
        <div>
            {{user.profile.bio}}
            Year Joined: {{user.date_joined.year}}
            <div>
                <a href="{{ user.profile.linkedin }}" target="blank" >Linkedin</a>
                <a href="{{ user.profile.github }}" target="blank" >Github</a>
            </div>
        </div>
        <a href="{% url 'users_index' %}">Return To All Coders</a>
        <div>
            <table class="striped">
                <h1>Build List</h1>
                <thead>
                  <tr><th>App</th><th>Description</th><th>Tech</th><th>Coders Building It</th></tr>
                </thead>
                <tbody>
                    {% for app in user.app_set.all %}
                    <tr>
                      <td>{{app.name}}</td>
                      <td>{{app.description}}</td>
                      <td>
                          {% for tech in app.tech.all %}
                          <p>{{tech.name}}</p>
                      </td>
                      <td>{{app.users.count}}</td>
                      <td><a href="{% url 'assoc_user' app.id %}">Add Build Idea To Collection</a></td>
                    </tr>
                    {% endfor %}
                </tbody>
              </table>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}